<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="assets/css/reset.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Poller+One&display=swap" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet" type="text/css">
    <script src="assets/javascript/game.js" rel="javascript" type="text/javascript"></script>
</head>
<body>
    <!-- Main Title -->
    <div class="game-title">
        <h1>Star Wars RPG!</h1>
    </div>
    <hr>
    <!-- Character Selector -->
    <div id="sc-1" class="section-title">
        <h2>Select Character</h2>
    </div>
    <div id="gr-1" class="game-row">
        <div id="ob-1" class="char-block-select">
            <p>Obi-Wan Kenobi</p>
            <img class="char-img-select" src="assets/images/obi-wan-kenobi.png">
            <p>100</p>
        </div>
        <div id="ls-1" class="char-block-select">
            <p>Luke Skywalker</p>
            <img class="char-img-select" src="assets/images/luke-skywalker.jpg">
            <p>100</p>
        </div>
        <div id="ds-1" class="char-block-select">
            <p>Darth Sidious</p>
            <img class="char-img-select" src="assets/images/darth-sidious.jpg">
            <p>100</p>
        </div>
        <div id="dm-1" class="char-block-select">
            <p>Darth Maul</p>
            <img class="char-img-select" src="assets/images/darth-maul.jpg">
            <p>100</p>
        </div>
    </div>
    <!-- Display Selected Character -->
    <div id="sc-2" class="section-title">
        <h2>Your Character</h2>
    </div>
    <div id="gr-2" class="game-row">
        <div id="ob-2" class="char-block-select">
            <p>Obi-Wan Kenobi</p>
            <img class="char-img-select" src="assets/images/obi-wan-kenobi.png">
            <p>100</p>
        </div>
        <div id="ls-2" class="char-block-select">
            <p>Luke Skywalker</p>
            <img class="char-img-select" src="assets/images/luke-skywalker.jpg">
            <p>100</p>
        </div>
        <div id="ds-2" class="char-block-select">
            <p>Darth Sidious</p>
            <img class="char-img-select" src="assets/images/darth-sidious.jpg">
            <p>100</p>
        </div>
        <div id="dm-2" class="char-block-select">
            <p>Darth Maul</p>
            <img class="char-img-select" src="assets/images/darth-maul.jpg">
            <p>100</p>
        </div>
    </div>
    <!-- Display Enemies Available for Attack -->
    <div id="sc-3" class="section-title">
        <h2>Enemies Available to Attack</h2>
    </div>
    <div id="gr-3" class="game-row">
        <div id="ob-3" class="char-block-enemy">
            <p>Obi-Wan Kenobi</p>
            <img class="char-img-select" src="assets/images/obi-wan-kenobi.png">
            <p>100</p>
        </div>
        <div id="ls-3" class="char-block-enemy">
            <p>Luke Skywalker</p>
            <img class="char-img-select" src="assets/images/luke-skywalker.jpg">
            <p>100</p>
        </div>
        <div id="ds-3" class="char-block-enemy">
            <p>Darth Sidious</p>
            <img class="char-img-select" src="assets/images/darth-sidious.jpg">
            <p>100</p>
        </div>
        <div id="dm-3" class="char-block-enemy">
            <p>Darth Maul</p>
            <img class="char-img-select" src="assets/images/darth-maul.jpg">
            <p>100</p>
        </div>
    </div>
    <!-- Display Game Section with Attack Button -->
    <div id="sc-4" class="section-title">
        <h2>Fight Section</h2>
    </div>
    <div id="gr-4" class="game-row">
        <button id="attack-button" type="button">Attack</button>
    </div>
    <!-- Display Current Defender -->
    <div id="sc-5" class="section-title">
        <h2>Defender(s)</h2>
    </div>
    <div id="gr-5" class="game-row">
        <div id="ob-4" class="char-block-defender">
            <p>Obi-Wan Kenobi</p>
            <img class="char-img-defender" src="assets/images/obi-wan-kenobi.png">
            <p id="ob-defender-hp">100</p>
        </div>
        <div id="ls-4" class="char-block-defender">
            <p>Luke Skywalker</p>
            <img class="char-img-defender" src="assets/images/luke-skywalker.jpg">
            <p id="ls-defender-hp">100</p>
        </div>
        <div id="ds-4" class="char-block-defender">
            <p>Darth Sidious</p>
            <img class="char-img-defender" src="assets/images/darth-sidious.jpg">
            <p id="ds-defender-hp">100</p>
        </div>
        <div id="dm-4" class="char-block-defender">
            <p>Darth Maul</p>
            <img class="char-img-defender" src="assets/images/darth-maul.jpg">
            <p id="dm-defender-hp">100</p>
        </div>
    </div>
    <!-- Display Message Output to User -->
    <div id="gr-6" class="game-row">
        <p></p>
        <p></p>
        <button id="restart-button" type="button">Restart</button>
    </div>

    <!-- Add jQuery CDN -->
    <script
    src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
    crossorigin="anonymous"></script>

    <!-- jQuery Script -->
    <script>

        // declare global objects/variables
        // -----------------------------------------------------
        
        let player = [
            {
                name: "Obi-Wan Kenobi",
                hp: 120,
                attack: 15,
                defender: false,
                alive: true,
            },
            {
                name: "Luke Skywalker",
                hp: 100,
                attack: 5,
                defender: false,
                alive: true,
            },
            {
                name: "Darth Sidious",
                hp: 130,
                attack: 20,
                defender: false,
                alive: true,
            },
            {
                name: "Darth Maul",
                hp: 110,
                attack: 10,
                defender: false,
                alive: true,
            }
        ];

        let playerAttack;  
        let playerHP;  
        let defenderAttack0 = player[0].attack;
        let defenderHP0 = player[0].hp;
        let defenderAttack1 = player[1].attack;
        let defenderHP1 = player[1].hp;
        let defenderAttack2 = player[2].attack;
        let defenderHP2 = player[2].hp;
        let defenderAttack3 = player[3].attack;
        let defenderHP3 = player[3].hp;

        // declare global functions
        // ---------------------------------------------------------

        // first function run when page initially loads
        let start = () => {
            $('#sc-2').hide();
            $('#sc-3').hide();
            $('#sc-4').hide();
            $('#sc-5').hide();
            $('#gr-2').hide();
            $('#gr-3').hide();
            $('#gr-4').hide();
            $('#gr-5').hide();
            $('#gr-6').hide();
            $('#ob-4').hide();
            $('#ls-4').hide();
            $('#ds-4').hide();
            $('#dm-4').hide();
        }

        // function run if Obi-Wan is selected as player
        let obiPlayer = () => {
            $('#sc-1').hide();
            $('#gr-1').hide();
            $('#sc-2').show();
            $('#gr-2').show();
            $('#ls-2').hide();
            $('#ds-2').hide();
            $('#dm-2').hide();
            $('#sc-3').show();
            $('#gr-3').show();
            $('#ob-3').hide();
            defenderAttack0 = null;
            defenderHP0 = null;
            playerAttack = player[0].attack;
            playerHP = player[0].hp;
            console.log("playerAttack: " + playerAttack);
            console.log("playerHP: " + playerHP);
        }

        // function run if Luke is selected as player
        let lukePlayer = () => {
            $('#sc-1').hide();
            $('#gr-1').hide();
            $('#sc-2').show();
            $('#gr-2').show();
            $('#ob-2').hide();
            $('#ds-2').hide();
            $('#dm-2').hide();
            $('#sc-3').show();
            $('#gr-3').show();
            $('#ls-3').hide();
            defenderAttack1 = null;
            defenderHP1 = null;
            playerAttack = player[1].attack;
            playerHP = player[1].hp;
            console.log("playerAttack: " + playerAttack);
            console.log("playerHP: " + playerHP);
        }

        // function run if Sidious is selected as player
        let sidiousPlayer = () => {
            $('#sc-1').hide();
            $('#gr-1').hide();
            $('#sc-2').show();
            $('#gr-2').show();
            $('#ls-2').hide();
            $('#ob-2').hide();
            $('#dm-2').hide();
            $('#sc-3').show();
            $('#gr-3').show();
            $('#ds-3').hide();
            defenderAttack2 = null;
            defenderHP2 = null;
            playerAttack = player[2].attack;
            playerHP = player[2].hp;
            console.log("playerAttack: " + playerAttack);
            console.log("playerHP: " + playerHP);
        }

        // function run if Maul is selected as player
        let maulPlayer = () => {
            $('#sc-1').hide();
            $('#gr-1').hide();
            $('#sc-2').show();
            $('#gr-2').show();
            $('#ls-2').hide();
            $('#ds-2').hide();
            $('#ob-2').hide();
            $('#sc-3').show();
            $('#gr-3').show();
            $('#dm-3').hide();
            defenderAttack3 = null;
            defenderHP3 = null;
            playerAttack = player[3].attack;
            playerHP = player[3].hp;
            console.log("playerAttack: " + playerAttack);
            console.log("playerHP: " + playerHP);
        }

        // function run if Obi-Wan is selected as defender
        let obiDefender = () => {
            $('#ob-3').hide();
            $('#sc-4').show();
            $('#gr-4').show();
            $('#sc-5').show();
            $('#gr-5').show();
            $('#ob-4').show();
            player[0].defender = true;
            console.log("defenderAttack0: " + defenderAttack0);
            console.log("defenderHP0: " + defenderHP0);
        }

        // function run if Luke is selected as defender
        let lukeDefender = () => {
            $('#ls-3').hide();
            $('#sc-4').show();
            $('#gr-4').show();
            $('#sc-5').show();
            $('#gr-5').show();
            $('#ls-4').show();
            player[1].defender = true;
            console.log("defenderAttack1: " + defenderAttack1);
            console.log("defenderHP1: " + defenderHP1);
        }

        // function run if Darth Sidious is selected as defender
        let sidiousDefender = () => {
            $('#ds-3').hide();
            $('#sc-4').show();
            $('#gr-4').show();
            $('#sc-5').show();
            $('#gr-5').show();
            $('#ds-4').show();
            player[2].defender = true;
            console.log("defenderAttack2: " + defenderAttack2);
            console.log("defenderHP2: " + defenderHP2);
        }

        // function run if Darth Maul is selected as defender
        let maulDefender = () => {
            $('#dm-3').hide();
            $('#sc-4').show();
            $('#gr-4').show();
            $('#sc-5').show();
            $('#gr-5').show();
            $('#dm-4').show();
            player[3].defender = true;
            console.log("defenderAttack3: " + defenderAttack3);
            console.log("defenderHP3: " + defenderHP3);
        }

        // function run if Obi-Wan dies
        let obiDied = () => {
            player[0].defender = false;
            player[0].alive = false;
            $('#ob-4').hide();
        }
        
        // function run if Luke dies
        let lukeDied = () => {
            player[1].defender = false;
            player[1].alive = false;
            $('#ls-4').hide();
        }

        // function run if Darth Sidious dies
        let sidiousDied = () => {
            player[2].defender = false;
            player[2].alive = false;
            $('#ds-4').hide();

        }

        // function run if Darth Sidious dies
        let maulDied = () => {
            player[3].defender = false;
            player[3].alive = false;
            $('#dm-4').hide();
        }

        // -------------------------------------------------------------
        // -------------------------------------------------------------
        // start jquery function
        // -------------------------------------------------------------
        // -------------------------------------------------------------
        
        $(document).ready(function() {
            
            start();
                    
            // Stage 1: player select
            $('#ob-1').on('click', function() {
            obiPlayer();
            });
            $('#ls-1').on('click', function() {
            lukePlayer();
            });
            $('#ds-1').on('click', function() {
            sidiousPlayer();
            });
            $('#dm-1').on('click', function() {
            maulPlayer();
            });

            // Stage 2: defender(s) select
            $('#ob-3').on('click', function() {
                obiDefender();                              
            });
            $('#ls-3').on('click', function() {
                lukeDefender();                              
            });    
            $('#ds-3').on('click', function() {
                sidiousDefender();
            });    
            $('#dm-3').on('click', function() {
                maulDefender();
            });    

            // Stage 3: defender(s) fought according to whichever player/defender(s) selected
            $('#attack-button').on('click', function() {
                // Obi-Wan attacked
                if (player[0].defender && defenderHP0 > 0) {
                        defenderHP0 = defenderHP0 - playerAttack;
                        console.log("playerAttack: " + playerAttack);
                        console.log("defenderHP0: " + defenderHP0);
                        playerHP = playerHP - defenderAttack0;
                        console.log("defenderAttack0: " + defenderAttack0);
                        console.log("playerHP: " + playerHP);
                        playerAttack += 10;
                    if (defenderHP0 <= 0) {
                        obiDied();
                    }
                }
                // Luke attacked
                if (player[1].defender && defenderHP1 > 0) {
                        defenderHP1 = defenderHP1 - playerAttack;
                        console.log("playerAttack: " + playerAttack);
                        console.log("defenderHP1: " + defenderHP1);
                        playerHP = playerHP - defenderAttack1;
                        console.log("defenderAttack1: " + defenderAttack1);
                        console.log("playerHP: " + playerHP);
                        playerAttack += 10;
                    if (defenderHP1 <= 0) {
                        lukeDied();
                    }
                } 
                // Darth Sidious attacked
                if (player[2].defender && defenderHP2 > 0) {
                        defenderHP2 = defenderHP2 - playerAttack;
                        console.log("playerAttack: " + playerAttack);
                        console.log("defenderHP2: " + defenderHP2);
                        playerHP = playerHP - defenderAttack2;
                        console.log("defenderAttack2: " + defenderAttack2);
                        console.log("playerHP: " + playerHP);
                        playerAttack += 10;
                    if (defenderHP2 <= 0) {
                        sidiousDied();
                    }
                } 
                // Darth Maul attacked
                if (player[3].defender && defenderHP3 > 0) {
                        defenderHP3 = defenderHP3 - playerAttack;
                        console.log("playerAttack: " + playerAttack);
                        console.log("defenderHP3: " + defenderHP3);
                        playerHP = playerHP - defenderAttack3;
                        console.log("defenderAttack3: " + defenderAttack3);
                        console.log("playerHP: " + playerHP);
                        playerAttack += 10;
                    if (defenderHP3 <= 0) {
                        maulDied();
                    }
                }
            });        
        
        });

        
    </script>

</body>
</html>