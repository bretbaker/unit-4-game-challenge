<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="assets/css/reset.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Poller+One&display=swap" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet" type="text/css">
    <script src="assets/javascript/game.js" rel="javascript" type="text/javascript"></script>
</head>
<body>
    <!-- Main Title -->
    <div class="game-title">
        <h1>Star Wars RPG!</h1>
    </div>
    <hr>
    <!-- Character Selector -->
    <div id="sc-1" class="section-title">
        <h2>Select Character</h2>
    </div>
    <div id="gr-1" class="game-row">
        <div id="ob-1" class="char-block-select">
            <p>Obi-Wan Kenobi</p>
            <img class="char-img-select" src="assets/images/obi-wan-kenobi.png">
            <p>100</p>
        </div>
        <div id="ls-1" class="char-block-select">
            <p>Luke Skywalker</p>
            <img class="char-img-select" src="assets/images/luke-skywalker.jpg">
            <p>100</p>
        </div>
        <div id="ds-1" class="char-block-select">
            <p>Darth Sidious</p>
            <img class="char-img-select" src="assets/images/darth-sidious.jpg">
            <p>100</p>
        </div>
        <div id="dm-1" class="char-block-select">
            <p>Darth Maul</p>
            <img class="char-img-select" src="assets/images/darth-maul.jpg">
            <p>100</p>
        </div>
    </div>
    <!-- Display Selected Character -->
    <div id="sc-2" class="section-title">
        <h2>Your Character</h2>
    </div>
    <div id="gr-2" class="game-row">
        <div id="ob-2" class="char-block-select">
            <p>Obi-Wan Kenobi</p>
            <img class="char-img-select" src="assets/images/obi-wan-kenobi.png">
            <p>100</p>
        </div>
        <div id="ls-2" class="char-block-select">
            <p>Luke Skywalker</p>
            <img class="char-img-select" src="assets/images/luke-skywalker.jpg">
            <p>100</p>
        </div>
        <div id="ds-2" class="char-block-select">
            <p>Darth Sidious</p>
            <img class="char-img-select" src="assets/images/darth-sidious.jpg">
            <p>100</p>
        </div>
        <div id="dm-2" class="char-block-select">
            <p>Darth Maul</p>
            <img class="char-img-select" src="assets/images/darth-maul.jpg">
            <p>100</p>
        </div>
    </div>
    <!-- Display Enemies Available for Attack -->
    <div id="sc-3" class="section-title">
        <h2>Enemies Available to Attack</h2>
    </div>
    <div id="gr-3" class="game-row">
        <div id="ob-3" class="char-block-enemy">
            <p>Obi-Wan Kenobi</p>
            <img class="char-img-select" src="assets/images/obi-wan-kenobi.png">
            <p>100</p>
        </div>
        <div id="ls-3" class="char-block-enemy">
            <p>Luke Skywalker</p>
            <img class="char-img-select" src="assets/images/luke-skywalker.jpg">
            <p>100</p>
        </div>
        <div id="ds-3" class="char-block-enemy">
            <p>Darth Sidious</p>
            <img class="char-img-select" src="assets/images/darth-sidious.jpg">
            <p>100</p>
        </div>
        <div id="dm-3" class="char-block-enemy">
            <p>Darth Maul</p>
            <img class="char-img-select" src="assets/images/darth-maul.jpg">
            <p>100</p>
        </div>
    </div>
    <!-- Display Game Section with Attack Button -->
    <div id="sc-4" class="section-title">
        <h2>Fight Section</h2>
    </div>
    <div id="gr-4" class="game-row">
        <button id="attack-button" type="button">Attack</button>
    </div>
    <!-- Display Current Defender -->
    <div id="sc-5" class="section-title">
        <h2>Defender(s)</h2>
    </div>
    <div id="gr-5" class="game-row">
        <div id="ob-4" class="char-block-defender">
            <p>Obi-Wan Kenobi</p>
            <img class="char-img-defender" src="assets/images/obi-wan-kenobi.png">
            <p id="ob-defender-hp">100</p>
        </div>
        <div id="ls-4" class="char-block-defender">
            <p>Luke Skywalker</p>
            <img class="char-img-defender" src="assets/images/luke-skywalker.jpg">
            <p id="ls-defender-hp">100</p>
        </div>
        <div id="ds-4" class="char-block-defender">
            <p>Darth Sidious</p>
            <img class="char-img-defender" src="assets/images/darth-sidious.jpg">
            <p id="ds-defender-hp">100</p>
        </div>
        <div id="dm-4" class="char-block-defender">
            <p>Darth Maul</p>
            <img class="char-img-defender" src="assets/images/darth-maul.jpg">
            <p id="dm-defender-hp">100</p>
        </div>
    </div>
    <!-- Display Message Output to User -->
    <div id="gr-6" class="game-row">
        <p></p>
        <p></p>
        <button id="restart-button" type="button">Restart</button>
    </div>

    <!-- Add jQuery CDN -->
    <script
    src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
    crossorigin="anonymous"></script>

    <!-- jQuery Script -->
    <script>

        // declare global objects
        // -----------------------------------------------------
        
        let player = {
            obiWan : {
                hp: 100,
                attack: 10,
                defender: false,
                alive: true,
            },
            lukeSkywalker : {
                hp: 100,
                attack: 10,
                defender: false,
                alive: true,
            },
            darthSidious : {
                hp: 100,
                attack: 10,
                defender: false,
                alive: true,
            },
            darthMaul : {
                hp: 100,
                attack: 10,
                defender: false,
                alive: true,
            },
        }

        // declare global functions
        // ---------------------------------------------------------

        // first function run when page initially loads
        let start = () => {
            $('#sc-2').hide();
            $('#sc-3').hide();
            $('#sc-4').hide();
            $('#sc-5').hide();
            $('#gr-2').hide();
            $('#gr-3').hide();
            $('#gr-4').hide();
            $('#gr-5').hide();
            $('#gr-6').hide();
            $('#ob-4').hide();
            $('#ls-4').hide();
            $('#ds-4').hide();
            $('#dm-4').hide();
        }

        // function run if Obi-Wan is selected as player
        let obiPlayer = () => {
            $('#sc-1').hide();
            $('#gr-1').hide();
            $('#sc-2').show();
            $('#gr-2').show();
            $('#ls-2').hide();
            $('#ds-2').hide();
            $('#dm-2').hide();
            $('#sc-3').show();
            $('#gr-3').show();
            $('#ob-3').hide();
        }

        // function run if Luke is selected as player
        let lukePlayer = () => {
            $('#sc-1').hide();
            $('#gr-1').hide();
            $('#sc-2').show();
            $('#gr-2').show();
            $('#ob-2').hide();
            $('#ds-2').hide();
            $('#dm-2').hide();
            $('#sc-3').show();
            $('#gr-3').show();
            $('#ls-3').hide();
        }

        // function run if Sidious is selected as player
        let sidiousPlayer = () => {
            $('#sc-1').hide();
            $('#gr-1').hide();
            $('#sc-2').show();
            $('#gr-2').show();
            $('#ls-2').hide();
            $('#ob-2').hide();
            $('#dm-2').hide();
            $('#sc-3').show();
            $('#gr-3').show();
            $('#ds-3').hide();
        }

        // function run if Maul is selected as player
        let maulPlayer = () => {
            $('#sc-1').hide();
            $('#gr-1').hide();
            $('#sc-2').show();
            $('#gr-2').show();
            $('#ls-2').hide();
            $('#ds-2').hide();
            $('#ob-2').hide();
            $('#sc-3').show();
            $('#gr-3').show();
            $('#dm-3').hide();
        }

        // function run if Obi-Wan is selected as defender
        let obiDefender = () => {
            $('#ob-3').hide();
            $('#sc-4').show();
            $('#gr-4').show();
            $('#sc-5').show();
            $('#gr-5').show();
            $('#ob-4').show();
            player.obiWan.defender = true;
            console.log(player.obiWan.defender);
            console.log(player.obiWan.alive);
            console.log(player.obiWan.hp);
        }

        // function run if Luke is selected as defender
        let lukeDefender = () => {
            $('#ls-3').hide();
            $('#sc-4').show();
            $('#gr-4').show();
            $('#sc-5').show();
            $('#gr-5').show();
            $('#ls-4').show();
            player.lukeSkywalker.defender = true;
            console.log(player.lukeSkywalker.defender);
            console.log(player.lukeSkywalker.alive);
            console.log(player.lukeSkywalker.hp);
        }

        // function run if Darth Sidious is selected as defender
        let sidiousDefender = () => {
            $('#ds-3').hide();
            $('#sc-4').show();
            $('#gr-4').show();
            $('#sc-5').show();
            $('#gr-5').show();
            $('#ds-4').show();
            player.darthSidious.defender = true;
            console.log(player.darthSidious.defender);
            console.log(player.darthSidious.alive);
            console.log(player.darthSidious.hp);
        }

        // function run if Darth Maul is selected as defender
        let maulDefender = () => {
            $('#dm-3').hide();
            $('#sc-4').show();
            $('#gr-4').show();
            $('#sc-5').show();
            $('#gr-5').show();
            $('#dm-4').show();
            player.darthMaul.defender = true;
            console.log(player.darthMaul.defender);
            console.log(player.darthMaul.alive);
            console.log(player.darthMaul.hp);
        }

        // function run if Obi-Wan dies
        let obiDied = () => {
            player.obiWan.defender = false;
            player.obiWan.alive = false;
            console.log(player.obiWan.defender);
            console.log(player.obiWan.alive);
            $('#ob-4').hide();
        }
        
        // function run if Luke dies
        let lukeDied = () => {
            player.lukeSkywalker.defender = false;
            player.lukeSkywalker.alive = false;
            console.log(player.lukeSkywalker.defender);
            console.log(player.lukeSkywalker.alive);
            $('#ls-4').hide();
        }

        // function run if Darth Sidious dies
        let sidiousDied = () => {
            player.darthSidious.defender = false;
            player.darthSidious.alive = false;
            console.log(player.darthSidious.defender);
            console.log(player.darthSidious.alive);
            $('#ds-4').hide();

        }

        // function run if Darth Sidious dies
        let maulDied = () => {
            player.darthMaul.defender = false;
            player.darthMaul.alive = false;
            console.log(player.darthMaul.defender);
            console.log(player.darthMaul.alive);
            $('#dm-4').hide();
        }

        // -------------------------------------------------------------
        // -------------------------------------------------------------
        // start jquery global function
        // -------------------------------------------------------------
        // -------------------------------------------------------------
        
        $(document).ready(function() {
            
            start();
                    
            // Stage 1: Select Player
            $('#ob-1').on('click', function() {
            obiPlayer();
            });
            $('#ls-1').on('click', function() {
            lukePlayer();
            });
            $('#ds-1').on('click', function() {
            sidiousPlayer();
            });
            $('#dm-1').on('click', function() {
            maulPlayer();
            });

            // Stage 2: defender(s) selected
            $('#ob-3').on('click', function() {
                obiDefender();                              
            });
            $('#ls-3').on('click', function() {
                lukeDefender();                              
            });    
            $('#ds-3').on('click', function() {
                sidiousDefender();
            });    
            $('#dm-3').on('click', function() {
                maulDefender();
            });    

            // Stage 3: defender is fought according to whichever player has been selected
                // Obi-Wan as Player
                if ($('#ob-1').data('clicked', true)) {
                    $('#attack-button').on('click', function() {
                        // Luke attacked
                        if (player.lukeSkywalker.defender && player.lukeSkywalker.hp > 0) {
                                player.lukeSkywalker.hp -= player.obiWan.attack;
                                player.obiWan.attack += 10;
                                console.log(player.lukeSkywalker.hp);
                            if (player.lukeSkywalker.hp <= 0) {
                                lukeDied();
                            }
                        } 
                        // Darth Sidious attacked
                        if (player.darthSidious.defender && player.darthSidious.hp > 0) {
                                player.darthSidious.hp -= player.obiWan.attack;
                                player.obiWan.attack += 10;
                                console.log(player.darthSidious.hp);
                            if (player.darthSidious.hp <= 0) {
                                sidiousDied();
                            }
                        } 
                        // Darth Maul attacked
                        if (player.darthMaul.defender && player.darthMaul.hp > 0) {
                                player.darthMaul.hp -= player.obiWan.attack;
                                player.obiWan.attack += 10;
                                console.log(player.darthMaul.hp);
                            if (player.darthMaul.hp <= 0) {
                                maulDied();
                            }
                        } 
                    });
                }             
                // Luke as Player
                if ($('#ls-1').data('clicked', true)) {
                    $('#attack-button').on('click', function() {
                        // Obi-Wan attacked
                        if (player.obiWan.defender && player.obiWan.hp > 0) {
                                player.obiWan.hp -= player.lukeSkywalker.attack;
                                player.lukeSkywalker.attack += 10;
                                console.log(player.obiWan.hp);
                            if (player.obiWan.hp <= 0) {
                                obiDied();
                            }
                        } 
                        // Darth Sidious attacked
                        if (player.darthSidious.defender && player.darthSidious.hp > 0) {
                                player.darthSidious.hp -= player.lukeSkywalker.attack;
                                player.lukeSkywalker.attack += 10;
                                console.log(player.darthSidious.hp);
                            if (player.darthSidious.hp <= 0) {
                                sidiousDied();
                            }
                        } 
                        // Darth Maul attacked
                        if (player.darthMaul.defender && player.darthMaul.hp > 0) {
                                player.darthMaul.hp -= player.lukeSkywalker.attack;
                                player.lukeSkywalker.attack += 10;
                                console.log(player.darthMaul.hp);
                            if (player.darthMaul.hp <= 0) {
                                maulDied();
                            }
                        } 
                    });
                }
                // Darth Sidious as Player
                if ($('#ds-1').data('clicked', true)) {
                    $('#attack-button').on('click', function() {
                        // Luke attacked
                        if (player.lukeSkywalker.defender && player.lukeSkywalker.hp > 0) {
                                player.lukeSkywalker.hp -= player.darthSidious.attack;
                                player.darthSidious.attack += 10;
                                console.log(player.lukeSkywalker.hp);
                            if (player.lukeSkywalker.hp <= 0) {
                                lukeDied();
                            }
                        } 
                        // Obi-Wan attacked
                        if (player.obiWan.defender && player.obiWan.hp > 0) {
                                player.obiWan.hp -= player.darthSidious.attack;
                                player.darthSidious.attack += 10;
                                console.log(player.obiWan.hp);
                            if (player.obiWan.hp <= 0) {
                                obiDied();
                            }
                        } 
                        // Darth Maul attacked
                        if (player.darthMaul.defender && player.darthMaul.hp > 0) {
                                player.darthMaul.hp -= player.darthSidious.attack;
                                player.darthSidious.attack += 10;
                                console.log(player.darthMaul.hp);
                            if (player.darthMaul.hp <= 0) {
                                maulDied();
                            }
                        } 
                    });
                }
                // Darth Maul as Player
                if ($('#ob-1').data('clicked', true)) {
                    $('#attack-button').on('click', function() {
                        // Luke attacked
                        if (player.lukeSkywalker.defender && player.lukeSkywalker.hp > 0) {
                                player.lukeSkywalker.hp -= player.darthMaul.attack;
                                player.darthMaul.attack += 10;
                                console.log(player.lukeSkywalker.hp);
                            if (player.lukeSkywalker.hp <= 0) {
                                lukeDied();
                            }
                        } 
                        // Darth Sidious attacked
                        if (player.darthSidious.defender && player.darthSidious.hp > 0) {
                                player.darthSidious.hp -= player.darthMaul.attack;
                                player.darthMaul.attack += 10;
                                console.log(player.darthSidious.hp);
                            if (player.darthSidious.hp <= 0) {
                                sidiousDied();
                            }
                        } 
                        // Obi-Wan attacked
                        if (player.obiWan.defender && player.obiWan.hp > 0) {
                                player.obiWan.hp -= player.darthMaul.attack;
                                player.darthMaul.attack += 10;
                                console.log(player.obiWan.hp);
                            if (player.obiWan.hp <= 0) {
                                obiDied();
                            }
                        } 
                    });
                }
        
        
        });

        
    </script>

</body>
</html>